(this.webpackJsonphostAdvance=this.webpackJsonphostAdvance||[]).push([[1],{102:function(e,t,n){var a={"./ion-icon.entry.js":[184,57]};function r(e){if(!n.o(a,e))return Promise.resolve().then((function(){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}));var t=a[e],r=t[0];return n.e(t[1]).then((function(){return n(r)}))}r.keys=function(){return Object.keys(a)},r.id=102,e.exports=r},107:function(e,t,n){},124:function(e,t,n){},135:function(e,t,n){},136:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),l=n(32),o=n.n(l),c=n(21),i=n(2),u=n(67),s=n(11),m=(n(43),function(e){var t=e.festivalId,n=e.performanceId,a=e.startTime,l=e.endTime,o=e.className,c=e.popularity;return r.a.createElement("tr",null,r.a.createElement("td",{className:o},t),r.a.createElement("td",null,n),r.a.createElement("td",null,a),r.a.createElement("td",null,l),r.a.createElement("td",null,c))}),d=(n(107),n(26)),p=n.n(d),f=n(27),h=n.n(f),E=function(e,t){return p.a.get("https://jibaboom-astronomia.herokuapp.com/advance/data",{params:{page:e,rows:t}}).then((function(e){return e.data})).catch((function(e){console.log("error"),alert(e)}))},v=function(e,t,n,a,r){return p.a.get("https://jibaboom-astronomia.herokuapp.com/advance/filter",{params:{page:e,rows:r,startTime:a,festivalId:n,endTime:t}}).then((function(e){return 0!==e.data.length?e.data:[{performanceId:"NO RESULTS FOUND",festivalId:"NO RESULTS FOUND",startTime:"NO RESULTS FOUND",endTime:"NO RESULTS FOUND",popularity:"NO RESULTS FOUND"}]})).catch((function(e){console.log("error"),alert(e)}))},b=function(){var e=Object(a.useState)(""),t=Object(s.a)(e,2),n=t[0],l=t[1],o=Object(a.useState)(""),c=Object(s.a)(o,2),u=c[0],d=c[1],f=Object(a.useState)(""),b=Object(s.a)(f,2),g=b[0],y=b[1],j=Object(a.useState)(0),S=Object(s.a)(j,2),N=S[0],w=S[1],I=Object(a.useState)(0),O=Object(s.a)(I,2),k=O[0],T=O[1],R=Object(a.useState)(0),_=Object(s.a)(R,2),C=_[0],D=_[1],A=r.a.useState([]),x=Object(s.a)(A,2),F=x[0],U=x[1],W=r.a.useState(),M=Object(s.a)(W,2),V=M[0],H=M[1],L=r.a.useState(),J=Object(s.a)(L,2),P=J[0],z=J[1],B=r.a.useState(10),q=Object(s.a)(B,2),G=q[0],K=q[1],$=r.a.useState("10"),Q=Object(s.a)($,2),X=Q[0],Y=Q[1],Z=Object(a.useState)(1),ee=Object(s.a)(Z,2),te=ee[0],ne=ee[1],ae=r.a.useState(0),re=Object(s.a)(ae,2),le=re[0],oe=re[1],ce=r.a.useState(5),ie=Object(s.a)(ce,2),ue=ie[0],se=ie[1],me=Math.ceil(V/G),de=Math.ceil(P/G),pe=Object(a.useState)(0),fe=Object(s.a)(pe,2),he=fe[0],Ee=fe[1],ve=0;function be(){0===n.length&&0===u.length&&0===g.length||(ne(1),v(1,C,N,k,G).then((function(e){U(e)})),function(e,t,n,a,r){return p.a.get("https://jibaboom-astronomia.herokuapp.com/advance/filter",{params:{page:1,rows:999999,startTime:a,festivalId:n,endTime:t}}).then((function(e){return e.data.length})).catch((function(e){console.log("error"),alert(e)}))}(0,C,N,k).then((function(e){return z(e)})),Ee(1))}function ge(e,t){e>(0===he?me:de)||e<1||(0===N&&0===k?(E(e,t).then((function(e){return U(e)})),ne(e)):(v(e,C,N,k,t).then((function(e){U(e)})),ne(e)))}r.a.useEffect((function(){Number.isNaN(k)&&T(0),Number.isNaN(N)&&w(0),Number.isNaN(C)&&D(0),0===N&&0===k&&0===C&&(E(te,G).then((function(e){return U(e)})),Ee(0)),Number.isNaN(G)&&K(10),p.a.get("https://jibaboom-astronomia.herokuapp.com/advance/data",{params:{page:1,rows:999999}}).then((function(e){return console.log(e.data.length),e.data.length})).catch((function(e){console.log("error"),alert(e)})).then((function(e){return H(e)})),G===P&&ge(te-1,G)}),[k,C,N,G,he,te]);return r.a.createElement(i.h,null,r.a.createElement(i.c,null,r.a.createElement(i.p,{id:"filter"},r.a.createElement(i.e,{type:"number",min:"0",value:n,placeholder:"Filter festivalId",onIonChange:function(e){l(e.detail.value),w(parseInt(e.detail.value,10))},className:"input"}),r.a.createElement(i.e,{type:"number",min:"0",value:u,placeholder:"Filter startTime",onIonChange:function(e){d(e.detail.value),T(parseInt(e.detail.value,10))},className:"input"}),r.a.createElement(i.e,{type:"number",min:"0",value:g,placeholder:"Filter endTime",onIonChange:function(e){y(e.detail.value),D(parseInt(e.detail.value,10))},className:"input"}),r.a.createElement(h.a,{maxDeviceWidth:600},r.a.createElement(i.f,{id:"mobilePageSize"},r.a.createElement(i.g,null,"Page Size"),r.a.createElement(i.k,{interfaceOptions:{header:"Page Size"},value:X,okText:"Select",cancelText:"Dismiss",onIonChange:function(e){Y(e.detail.value),K(parseInt(e.detail.value,10))}},r.a.createElement(i.l,{value:"5"},"5"),r.a.createElement(i.l,{value:"10"},"10"),r.a.createElement(i.l,{value:"15"},"15"),r.a.createElement(i.l,{value:"20"},"20"),r.a.createElement(i.l,{value:"25"},"25"),r.a.createElement(i.l,{value:"50"},"50"),r.a.createElement(i.l,{value:"100"},"100")))),r.a.createElement(i.b,{onClick:function(){be()},id:"search"},"Search ")),r.a.createElement("div",{id:"table"},r.a.createElement("table",{id:"row",color:"dark"},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,"festivalId"),r.a.createElement("th",null,"performanceId"),r.a.createElement("th",null,"startTime"),r.a.createElement("th",null,"endTime"),r.a.createElement("th",null,"popularity"))),r.a.createElement("tbody",null,console.log(F),F.map((function(e){return ve++,r.a.createElement(m,{key:e.performanceId,popularity:e.popularity,festivalId:e.festivalId,performanceId:e.performanceId,startTime:e.startTime,endTime:e.endTime,className:ve%2===1?"GrayColor":"WhiteColor"})})))))),r.a.createElement(i.d,null,r.a.createElement(i.p,null,r.a.createElement(i.g,{id:"tableSize"},"Showing ",function(){var e=F.length,t=te;return(t=t>9?t*G+1:(t-1)*G+1)+"-"+(t+e-1)}()," of ",0===he?V:P," entries"),r.a.createElement("div",{className:"pagination"},r.a.createElement("button",{onClick:function(){return ge(1,G)}},"\xab\xab"),r.a.createElement("button",{onClick:function(){return ge(te-1,G)}},"\xab"),function(){var e=[],t=1;if(0===he)for(;t<=me;t++)e.push(t);else for(;t<=de;t++)e.push(t);return te>=ue-1&&(oe(++le),se(++ue)),(te-1<=le&&!(te<3)||te<3&&0!==le)&&(oe(--le),se(--ue)),e.slice(le,ue).map((function(e){return r.a.createElement("button",{key:e,onClick:function(){return ge(e,G)},className:te===e?"active":"notActive"},e)}))}(),r.a.createElement("button",{onClick:function(){return ge(te+1,G)}},"\xbb"),1===he?r.a.createElement("button",{onClick:function(){return ge(de,G)}},"\xbb\xbb"):r.a.createElement("button",{onClick:function(){return ge(me,G)}},"\xbb\xbb")),r.a.createElement(h.a,{minDeviceWidth:601},r.a.createElement(i.e,{onKeyDown:function(e){e.preventDefault()},type:"number",min:"1",value:G,onIonChange:function(e){K(parseInt(e.detail.value,10))},id:"pageSize"})))))},g=n(8),y=n.n(g),j=n(14),S=(n(124),function(e){var t=e.performanceId,n=e.i,a=e.timeArr,l=e.popularity;return r.a.createElement("tr",{className:"tallRow"},r.a.createElement("td",null,"performance ",n),2===n?r.a.createElement("td",null):null,3===n?r.a.createElement("td",{colSpan:2}):null,4===n?r.a.createElement("td",{colSpan:3}):null,5===n?r.a.createElement("td",{colSpan:4}):null,6===n?r.a.createElement("td",{colSpan:5}):null,7===n?r.a.createElement("td",{colSpan:6}):null,8===n?r.a.createElement("td",{colSpan:7}):null,r.a.createElement("td",{key:t,className:"performance"},t,r.a.createElement("br",null),"(",l,")"),1===n&&a.length>1?r.a.createElement("td",{colSpan:a.length>2?5:1}):null,2===n&&2!==a.length?r.a.createElement("td",{colSpan:5}):null,3===n&&3!==a.length?r.a.createElement("td",{colSpan:5}):null,4===n&&4!==a.length?r.a.createElement("td",{colSpan:5}):null,5===n&&5!==a.length?r.a.createElement("td",{colSpan:5}):null,6===n&&6!==a.length?r.a.createElement("td",{colSpan:5}):null,7===n&&7!==a.length?r.a.createElement("td",{colSpan:6}):null,8===n&&8!==a.length?r.a.createElement("td",{colSpan:7}):null)}),N=function(e){var t=e.performanceId,n=e.i,a=e.timeArr,l=e.popularity;return r.a.createElement("tr",null,a[n],r.a.createElement("td",{key:t},r.a.createElement("p",{id:"mPer"},t,"(",l,")")))},w=n(69),I=Object(w.setupCache)({maxAge:9e5}),O=p.a.create({adapter:I.adapter}),k=new Array,T=new Array,R=0,_=function(){var e=Object(a.useState)(0),t=Object(s.a)(e,2),n=t[0],l=t[1],o=Object(a.useState)(""),c=Object(s.a)(o,2),u=c[0],m=c[1],d=r.a.useState([]),p=Object(s.a)(d,2),f=p[0],E=p[1],v=Object(a.useState)(0),b=Object(s.a)(v,2),g=b[0],w=b[1],I=new Array,_=new Array,C=0,D=0,A=0,x=-1;function F(e){(function(e){console.log(k.length);for(var t=0;t<k.length;t++)if(console.log(T[t]),console.log(T[t].includes(e.toString())),T[t].includes(e.toString())&&10===e.toString().length){console.log("exists"),console.log(JSON.parse(k[t]));var n=JSON.parse(k[t]);return O.get("").then(function(){var e=Object(j.a)(y.a.mark((function e(t){return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",n);case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()).catch((function(e){return n}))}return console.log("new api"),O.get("https://jibaboom-astronomia.herokuapp.com/advance/result?festivalId=".concat(e)).then(function(){var t=Object(j.a)(y.a.mark((function t(n){return y.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return console.log("Request response:",n.data.result),0!==n.data.result.length&&(console.log("stored"),k[R]=JSON.stringify(n.data.result),T[R]="https://jibaboom-astronomia.herokuapp.com/advance/result?festivalId=".concat(e),console.log(JSON.parse(k[R])),R++),3===R&&(R=0),t.abrupt("return",n.data.result);case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()).catch((function(e){return console.log("error"),alert(e),[{performanceId:"festivalId not found!"}]}))})(e).then((function(e){E(e)})),w(1),m(e.toString())}function U(){return 1===g&&0!==f.length?"":"hidden"}return r.a.createElement(i.h,null,r.a.createElement(i.c,null,r.a.createElement("div",{id:"center",className:1===g&&0!==f.length?"hidden":""},r.a.createElement("h1",{id:"mainText"},"Enter festivalId below"),r.a.createElement(i.e,{id:"mainInput",type:"number",min:"0",value:n,placeholder:"Enter festivalId",onIonChange:function(e){l(parseInt(e.detail.value,10))}}),r.a.createElement(i.b,{onClick:function(){F(n)},id:"searchFirst"},"Search ")),r.a.createElement("div",{id:"afterSearch",className:U()},r.a.createElement(h.a,{minDeviceWidth:600},r.a.createElement("h1",{id:"leftMain"},"festivalId : ",u),r.a.createElement(i.e,{id:"rightInput",type:"number",min:"0",value:n,placeholder:"Enter festivalId",onIonChange:function(e){l(parseInt(e.detail.value,10))}}),r.a.createElement(i.b,{onClick:function(){F(n)},id:"searchRight"},"Search ")),r.a.createElement(h.a,{maxDeviceWidth:600},r.a.createElement(i.e,{id:"rightInput",type:"number",min:"0",value:n,placeholder:"Enter festivalId",onIonChange:function(e){l(parseInt(e.detail.value,10))}}),r.a.createElement(i.b,{onClick:function(){F(n)},id:"searchRight"},"Search "),r.a.createElement("h1",{id:"leftMain"},"festivalId : ",u))),r.a.createElement(h.a,{minDeviceWidth:600},r.a.createElement("table",{className:1===g&&0===f.length?"red":"W"},f.reverse().map((function(e){return I[A]=[r.a.createElement("td",{key:e.startTime},e.startTime,"-",e.endTime)],_[A]=[r.a.createElement("td",{key:e.startTime},r.a.createElement("p",null,e.startTime),r.a.createElement("p",null,e.endTime))],C+=parseInt(e.popularity),A++,!0})),r.a.createElement("tbody",null,r.a.createElement("p",{className:1===g&&0===f.length?"red":"HideRow1 red"},"FestivalId not Found!"),r.a.createElement("tr",null,r.a.createElement("td",{className:1===g?"ShowRow":"HideRow"}),I),f.map((function(e){D++;for(var t=0;t<I.length;t++);return r.a.createElement(S,{key:e.performanceId,i:D,performanceId:e.performanceId,popularity:e.popularity,timeArr:I})})),r.a.createElement("td",{className:1!==g||0===f.length||Number.isNaN(C)?"HideRow":"ShowRow"},"Total popularity: ",C)))),r.a.createElement(h.a,{maxDeviceWidth:600},r.a.createElement("table",{className:"M"},r.a.createElement("tbody",null,r.a.createElement("p",{className:1===g&&0===f.length?"red":"HideRow1 red"},"FestivalId not Found!"),r.a.createElement("tr",null,r.a.createElement("td",{className:1===g&&0!==f.length?"ShowRow M":"HideRow"},r.a.createElement("p",null,"Time")),r.a.createElement("td",{className:1===g&&0!==f.length?"ShowRow M":"HideRow"},r.a.createElement("p",null,"performanceId"))),f.map((function(e){return x++,r.a.createElement(N,{key:e.performanceId,i:x,popularity:e.popularity,performanceId:e.performanceId,timeArr:_})}))),r.a.createElement("td",{className:1!==g||0===f.length||Number.isNaN(C)?"HideRow":"ShowRow"},r.a.createElement("p",{className:"blue"},"Total popularity: ",C)),r.a.createElement("td",{className:U()})))))},C=(n(125),n(126),n(127),n(128),n(129),n(130),n(131),n(132),n(133),n(134),n(135),function(){return r.a.createElement(i.a,null,r.a.createElement(u.a,null,r.a.createElement(i.o,null,r.a.createElement(i.j,null,r.a.createElement(c.b,{path:"/Astronomia-Advance/DataViewer",component:b,exact:!0}),r.a.createElement(c.b,{path:"/Astronomia-Advance/ResultViewer",component:_,exact:!0}),r.a.createElement(c.b,{path:"/",render:function(){return r.a.createElement(c.a,{to:"/Astronomia-Advance/DataViewer"})},exact:!0})),r.a.createElement(i.m,{slot:"top"},r.a.createElement(i.n,{tab:"DataViewer",href:"/Astronomia-Advance/DataViewer"},r.a.createElement(i.g,null,"Data Viewer")),r.a.createElement(i.n,{tab:"ResultViewer",href:"/Astronomia-Advance/ResultViewer"},r.a.createElement(i.g,null,"Result Viewer"))))))});Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(r.a.createElement(C,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))},43:function(e,t,n){},74:function(e,t,n){e.exports=n(136)},80:function(e,t,n){var a={"./ion-action-sheet.entry.js":[138,5],"./ion-alert.entry.js":[139,6],"./ion-app_8.entry.js":[140,7],"./ion-avatar_3.entry.js":[141,18],"./ion-back-button.entry.js":[142,19],"./ion-backdrop.entry.js":[143,43],"./ion-button_2.entry.js":[144,20],"./ion-card_5.entry.js":[145,21],"./ion-checkbox.entry.js":[146,22],"./ion-chip.entry.js":[147,23],"./ion-col_3.entry.js":[148,44],"./ion-datetime_3.entry.js":[149,10],"./ion-fab_3.entry.js":[150,24],"./ion-img.entry.js":[151,45],"./ion-infinite-scroll_2.entry.js":[152,46],"./ion-input.entry.js":[153,25],"./ion-item-option_3.entry.js":[154,26],"./ion-item_8.entry.js":[155,27],"./ion-loading.entry.js":[156,28],"./ion-menu_3.entry.js":[157,29],"./ion-modal.entry.js":[158,8],"./ion-nav_2.entry.js":[159,15],"./ion-popover.entry.js":[160,9],"./ion-progress-bar.entry.js":[161,30],"./ion-radio_2.entry.js":[162,31],"./ion-range.entry.js":[163,32],"./ion-refresher_2.entry.js":[164,11],"./ion-reorder_2.entry.js":[165,17],"./ion-ripple-effect.entry.js":[166,47],"./ion-route_4.entry.js":[167,33],"./ion-searchbar.entry.js":[168,34],"./ion-segment_2.entry.js":[169,35],"./ion-select_3.entry.js":[170,36],"./ion-slide_2.entry.js":[171,48],"./ion-spinner.entry.js":[172,13],"./ion-split-pane.entry.js":[173,49],"./ion-tab-bar_2.entry.js":[174,37],"./ion-tab_2.entry.js":[175,16],"./ion-text.entry.js":[176,38],"./ion-textarea.entry.js":[177,39],"./ion-toast.entry.js":[178,40],"./ion-toggle.entry.js":[179,12],"./ion-virtual-scroll.entry.js":[180,50]};function r(e){if(!n.o(a,e))return Promise.resolve().then((function(){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}));var t=a[e],r=t[0];return n.e(t[1]).then((function(){return n(r)}))}r.keys=function(){return Object.keys(a)},r.id=80,e.exports=r}},[[74,3,4]]]);
//# sourceMappingURL=main.0e74d750.chunk.js.map